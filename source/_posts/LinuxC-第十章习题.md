---
title: LinuxC编程实战 第十章习题
date: 2021-06-03 10:01:58
tags: -LinuxC
---
***进程间通信的方式有什么不同，为什么？***

进程有以下通信方式：

- 管道
- 有名管道
- 消息队列
- 信号量
- 共享内存

管道用于在亲缘进程之间的单向通信且没有规定数据格式；
有名管道在管道的基础上克服了非亲缘进程之间的通信；
消息队列将信息放入内核，使用链表数据结构存储；
信号量和消息队列很像，常用作计数器，作为互斥锁处理进程间对临界资源访问的同步问题；
共享内存是分配一块能被不同进程访问的内存，其信息和消息队列、内存一样存储在内核中。

***对管道和有名管道的操作过程有什么不同，为什么？***

管道的一般用法是，进程在使用fork函数创建子进程之前先创建一个管道，该管道用于在父子进程之间通信，然后创建子进程，之后父进程关闭管道的读端，子进程关闭管道的写端。

有名管道通过提供的关联路径名，解决了管道在非亲缘进程间的通信

***编写一个程序：父子进程间通过管道进行通信，尝试让进程在管道读端写数据，在管道写端读数据，看看有什么错误发生，并显示对应的错误信息***

报错

``` c
read from pipe:Hwrite:
```

***编写一个程序完成以下工作：在一个进程里创建两个子进程，两兄弟进程通过管道进行信息传递。***

my-code/out/10.9.4

***在一个程序里面定义5个全局变量，同时创建5个进程，如何保证这5个进程访问这5个全局变量时同步？***

给每个变量上锁

***进程间使用消息队列进行通信的时候，可根据指定的消息类型取得对应的信息，那么当给定的类型不存在的时候，会产生什么样的错误？请编程来验证。***

***通过共享内存来实现一个聊天程序***

***编写一个综合运用4种进程间通信方式的程序***

***试比较Linux静态库和动态库的不同。编写一个库的源程序，分别生成相应的动态库和静态库；通过一个程序分别对两者进行调用，试比较采用不同库时程序运行时间的长短，给出结论***

***消息队列、信号量和共享内存均位于系统内核中，而且使用的方式也非常类似，编程实现一个公用的接口函数库，库中实现对3种通信方式所用系统函数的统一，比如它们的创建通过调用一个函数就可以实现，而不需要调用不同的函数来实现。实现后，分别针对每种通信方式编写程序进行测试***
